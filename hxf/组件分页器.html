<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
		<script src="https://unpkg.com/element-ui/lib/index.js"></script>
		<script src="vue.js"></script>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			
			button {
				float: left;
				line-height: 50px;
			}
			
			ul {
				float: left;
				overflow: hidden;
				height: 53px;
			}
			
			ul>li {
				border: 1px solid #000;
				padding: 15px;
				display: inline-block;
				-webkit-user-select: none;
			}
			
			ul>li.active {
				background: blue;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<nb-pagination></nb-pagination>
		</div>

		<template id="pagination">
			<div class="box" style="width: 900px;margin: 0 auto;">
				<button @click="sy">首页</button>
				<button @click="syy">上一页</button>
				<ul>
					<li v-show="left">...</li>
					<li v-for="i,index in maxPageSize" @click="dq(first+index)" :class="{active:first+index==n}">{{first+index}}</li>
					<li v-show="right">...</li>
					<li>共{{ages}}页</li>
				</ul>
				<button @click="xy">下一页</button>
				<button @click="wy">尾页</button>
			</div>
		</template>
		<script type="text/javascript ">
			Vue.component('nb-pagination', {
				template: '#pagination',
				data(){
					return {
						agesize: 9,
					n: 1,
					ages: 50,
					left: false,
					right: false,
					}
				},
				computed: {
					maxPageSize() {
						return this.ages < this.agesize ? this.ages : this.agesize
					},
					first() {
						if(this.n >= Math.floor(this.agesize / 2)) {
							this.right = false
						} else {
							this.right = true
						}
						if(this.n >= Math.floor(this.agesize / 2 + 2)) {
							this.left = true
						} else {
							this.left = false
						}
						if(this.n <= Math.floor(this.agesize / 2)) {
							return 1;
						} else if(this.n >= this.ages - Math.floor(this.agesize / 2)) {
							return this.ages - this.agesize + 1
						} else {
							return this.n - Math.floor(this.agesize / 2)
						}
					}
				},
				methods: {
					sy() {
						this.n = 1
					},
					syy() {
						if(this.n <= 1) return
						this.n--
					},
					dq(age) {
						this.n = age
					},
					xy() {
						if(this.n >= this.ages) return
						this.n++
					},
					wy() {
						this.n = this.ages

					}

				}
			})
			var vm = new Vue({
				el: '#app',
			})
		</script>
	</body>

</html>