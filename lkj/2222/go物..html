<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
		<script src="js/vue.js"></script>
		<script src="js/vue-router.js"></script>
		<style>
			* {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			
			.header {
				width: 100%;
				height: 50px;
				font-size: 20px;
				line-height: 50px;
				text-align: center;
			}
			
			.nav {
				width: 100%;
				height: 50px;
				border: 1px solid #000;
			}
			
			.nav .zi {
				float: left;
				width: 107px;
				border-right: 1px solid #000;
				line-height: 50px;
				text-align: center;
			}
			
			#app {
				width: 435px;
				margin: 0 auto;
				height: 800px;
			}
			
			.tab a {
				text-decoration: none;
				height: 35px;
				width: 95px;
				line-height: 35px;
				text-align: center;
				display: block;
				border-bottom: 1px solid #000;
			}
			
			.box {
				border: 1px solid #ccc;
				height: 500px;
				overflow: auto;
				position: relative;
			}
			
			.tab {
				width: 100px;
				height: 800px;
				float: left;
			}
			
			.dli-l {
				float: left;
				width: 30%;
				height: 100%;
			}
			
			.dli-l img {
				width: 50%;
				height: 90%;
				margin-left: 5%;
				margin-top: 5%;
			}
			
			.dli-r {
				float: left;
				width: 70%;
				height: 100%;
			}
			
			.dli-r p {
				font-size: 16px;
				font-weight: 100;
			}
			
			.dli-r span:nth-child(2) {
				color: orange;
				font-size: 14px;
				display: inline-block;
				margin-top: 15px;
			}
			
			.one {
				float: right;
				margin: 0 20px;
			}
			
			.one button {
				width: 30px;
				height: 20px;
			}
			
			.hoer {
				width: 100%;
				height: 60px;
				background: tan;
				position: absolute;
				bottom: 0;
			}
			
			.hoer-left {
				width: 80%;
				height: 60px;
				background: tomato;
				float: left;
				line-height: 60px;
				text-indent: 15px;
			}
			
			.hoer-right {
				width: 20%;
				height: 60px;
				background: violet;
				text-align: center;
				line-height: 60px;
				float: left;
			}
		</style>
	</head>

	<body>
		<div id="app">
			<div class="header">
				<p>派送至北京石景山</p>
			</div>
			<router-view ref="reference"></router-view>
		</div>

		<template id="selec">
			<div>
				<div class="tab">
					<a href="#" @click="tabId=index" v-for="(i,index) in arr" class="{tabId=0}">{{i.type}}</a>
				</div>
				<div class="box">
					<div v-if="tabId == index" v-for="(o,index) in arr" :key="index">
						<li class="dli" v-for="(i,index) in o.list" :key="index">
							<div class="dli-l"><img :src="i.img" /></div>
							<div class="dli-r">
								<p>{{i.name}}</p>
								<span>{{i.jiage}}</span>
								<div class="one">
									<button @click="shao(i)">-</button>
									<span>{{i.num || 0}}</span>
									<button @click="duo(i)">+</button>
								</div>
							</div>
						</li>
					</div>
					<div class="hoer">
						<div class="hoer-left">
							总计: {{selec.length}}
						</div>
						<div class="hoer-right">
							
							<router-link to='/shoppingCart'>
								去结算:
							</router-link>
						</div>
					</div>
				</div>
			</div>

		</template>
		<script>
			var selec = {
				template: "#selec",

				data() {
					return {

						tabId: 0,
						arr: [{
							type: '水果',
							list: [{
								name: "纯实木地板番龙眼圆盘豆地热地暖专用锁扣冷色橡原纹厂家直销特价",
								img: "http://img08.tooopen.com/20190606/tooopen_sl_14280828849068.jpg",
								jiage: '￥100',
							
							}, {
								name: "纯实木地板番龙眼圆盘豆地热地暖专用锁扣冷色橡原纹厂家直销特价",
								img: "http://img08.tooopen.com/20190606/tooopen_sl_14280828849068.jpg",
								jiage: '￥￥100',
								
							}, {
								name: "纯实木地板番龙眼圆盘豆地热地暖专用锁扣冷色橡原纹厂家直销特价",
								img: "http://img08.tooopen.com/20190606/tooopen_sl_14280828849068.jpg",
								jiage: '￥￥100',
							
							}, {
								name: "纯实木地板番龙眼圆盘豆地热地暖专用锁扣冷色橡原纹厂家直销特价",
								img: "http://img08.tooopen.com/20190606/tooopen_sl_14280828849068.jpg",
								jiage: '￥100',
							
							}, {
								name: "纯实木地板番龙眼圆盘豆地热地暖专用锁扣冷色橡原纹厂家直销特价",
								img: "http://img08.tooopen.com/20190606/tooopen_sl_14280828849068.jpg",
								jiage: '￥￥100',
							
							}, ]
						}, {
							type: '熟食',
							list: [{
								name: "正品女装2018新款开衫卫衣女子运动休闲外套",
								img: "https://img.alicdn.com/imgextra/i1/2245141975/TB2Rghto7yWBuNjy0FpXXassXXa_!!2245141975-0-beehive-scenes.jpg_180x180xzq90.jpg_.webp",
								jiage: '￥5.8',
								
							}, {
								name: "卤味熟食卤味熟食卤味熟食卤味熟食",
								img: "https://img.alicdn.com/imgextra/i1/2245141975/TB2Rghto7yWBuNjy0FpXXassXXa_!!2245141975-0-beehive-scenes.jpg_180x180xzq90.jpg_.webp",
								jiage: '￥5.8',
								
							}, ]
						}, {
							type: '牛奶',
							list: [{
								name: "牛奶面包牛奶面包牛奶面包",
								img: "http://img08.tooopen.com/20190514/tooopen_sl_231734173449165.jpg",
								jiage: '￥11.8',
								num: '0'
							}, {
								name: "正品女装2018新款开衫卫衣女子运动休闲外套",
								img: "http://img08.tooopen.com/20190514/tooopen_sl_231734173449165.jpg",
								jiage: '￥11.8',
								
							}, ]
						}, {
							type: '户外',
							list: [{
								name: "运送户外运送户外运送户外运送户外",
								img: "http://img08.tooopen.com/20190514/tooopen_sl_231734173449165.jpg",
								jiage: '￥11.8',
								
							}, {
								name: "运送户外运送户外运送户外运送户外",
								img: "http://img08.tooopen.com/20190514/tooopen_sl_231734173449165.jpg",
								jiage: '￥11.8',
								
							}]
						}]
					}
				},
				methods:{
					duo(i){
						if(i.num){
							i.num ++ 
						}else{
							Vue.set(i,"num",1)
						}
						
						//i.num = 1
					//	console.log(i)
					},
					shao(i){
						if(i.num){
							if(i.num == 0) return;
							i.num--;
						}
					},
				},
				computed:{
					hotGoods(){
						return this.arr[0].list.length;
					},
					selec(){
						var arra = [];
						this.arr.forEach(element => {
							if(element.list && element.list.length>0){
								element.list.forEach(el=>{
									if(el.num){
										arra.push(el)
									}
								})
							}
						});
						return arra;
					}
				},
				watch:{
					selec(v1){
						console.log(v1)
					}
				}
			};
			var shoppingCart={
				template:"<div>shoppingCart</div>"
			}
			const router = new VueRouter({
				routes: [{
					path: '/goodslist',
					component: selec
				},{
					path: '/shoppingCart',
					component: shoppingCart
				},
				{
					path: "/",
					redirect: "/goodslist"
				}
				]
			})

			new Vue({
				router,
				el: '#app',
				
			})
		</script>
	</body>

</html>